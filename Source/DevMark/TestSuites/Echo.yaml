
name: "Echo"
version: "1.0"
description: "Dummy benchmark for quick testing."
author: ""

dependencies:
  - DevMark:
      minVersion: "1.0"
  - dotnet: 
      minVersion: "5.0"
      sdks:
        - minVersion: "5.0"
      runtimes:
        - name: Microsoft.NETCore.App
          minVersion: "5.0"
  - NodeJS:
      minVersion: "12"
      NPM:
        minVersion: "6"
        globalModules:
          - name: "yarn"
            minVersion: "1.22.0"
  - git: 
      minVersion: "2.0"
  - VisualStudio:
      minVersion: "16"
      components:
        - "Microsoft.VisualStudio.Workload.NetWeb"


initializers:
  - shell:
      name: "Restore environment"
      cmd: "Write 'Restore'"
  - write:
      message: "Sample message!"

tests:
  - name: "build"
    category: "default"
    iterations: 3
    warmupIterations: 1
    initializers:
      - shell:
          name: "Restore environment (before test)"
          cmd: "Write 'Test restore!'"
    benchmark:
      - shell:
          name: "Rebuilding solution"
          cmd: "Write \"Look at the env variable: $MsBuild\""
    cleanup:
      - shell:
          name: "Cleanup environment (after test)"
          cmd: "Write 'Test cleanup!'"
  - name: "other"
    category: "extended"
    iterations: 3
    warmupIterations: 1
    benchmark:
      - shell:
          name: "Test in extended category"
          cmd: "Write \"This test doesnt allways run!\""

cleanup:
  - shell:
      name: "Test suite cleanup"
      cmd: "Write 'Suite cleanup!'"
